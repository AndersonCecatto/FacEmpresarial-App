{"remainingRequest":"C:\\UpCore\\FacEmpresarial\\fac\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\UpCore\\FacEmpresarial\\fac\\src\\components\\Principal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\UpCore\\FacEmpresarial\\fac\\src\\components\\Principal.vue","mtime":1628041227710},{"path":"C:\\UpCore\\FacEmpresarial\\fac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\UpCore\\FacEmpresarial\\fac\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\UpCore\\FacEmpresarial\\fac\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\UpCore\\FacEmpresarial\\fac\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBhcGkgZnJvbSAnQC9zZXJ2aWNlcy9hcGkuanMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnUHJpbmNpcGFsJywNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgICAgICAgIGV4Y2x1aXI6IGZhbHNlLA0KICAgICAgICAgICAgdGl0dWxvOiAnJywNCiAgICAgICAgICAgIGRlc2NyaWNhbzogJycsDQogICAgICAgICAgICBpdGVuc1JldG9ybmFkb3M6IFtdLA0KICAgICAgICAgICAgaXRlbnM6IFtdLA0KICAgICAgICAgICAgcGVzcXVpc2E6ICcnLA0KICAgICAgICAgICAgY2FycmVnYXI6IGZhbHNlLA0KICAgICAgICAgICAgYm90dG9tOiBmYWxzZSwNCiAgICAgICAgICAgIHBhZ2luYWNhbzogMSwNCiAgICAgICAgICAgIGl0ZW06IHt9LA0KICAgICAgICAgICAgaW5kZXg6IDAsDQogICAgICAgICAgICB0aXR1bG9SdWxlczogW3YgPT4gISF2IHx8ICdUw610dWxvIMOpIE9icmlnYXTDs3JpbyEnXSwNCiAgICAgICAgICAgIGRlc2NyaWNhb1J1bGVzOiBbdiA9PiAhIXYgfHwgJ0Rlc2NyacOnw6NvIMOpIE9icmlnYXTDs3JpbyEnXQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIEV4aWJpckV4Y2x1aXIoaXRlbSwgaSl7DQogICAgICAgICAgICB0aGlzLmV4Y2x1aXIgPSAhdGhpcy5leGNsdWlyOw0KICAgICAgICAgICAgdGhpcy5pdGVtID0gaXRlbTsNCiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpOw0KICAgICAgICB9LA0KICAgICAgICBEZWxldGFyKCl7DQogICAgICAgICAgICBhcGkuZGVsZXRlKCcvUGVyZ3VudGEnLCB7DQogICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5pdGVtLmlkLA0KICAgICAgICAgICAgICAgICAgICB0aXR1bG86IHRoaXMuaXRlbS50aXR1bG8sDQogICAgICAgICAgICAgICAgICAgIGRlc2NyaWNhbzogdGhpcy5pdGVtLmRlc2NyaWNhbw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmV4Y2x1aXIgPSAhdGhpcy5leGNsdWlyOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLkJ1c2NhcigpDQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbnMuc3BsaWNlKHRoaXMuaW5kZXgsIDEpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgYm90dG9tVmlzaWJsZSgpIHsNCiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWQ0KICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQNCiAgICAgICAgICAgIGNvbnN0IHBhZ2VIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0DQogICAgICAgICAgICBjb25zdCBib3R0b21PZlBhZ2UgPSB2aXNpYmxlICsgc2Nyb2xsWSA+PSBwYWdlSGVpZ2h0DQogICAgICAgICAgICByZXR1cm4gYm90dG9tT2ZQYWdlIHx8IHBhZ2VIZWlnaHQgPCB2aXNpYmxlDQogICAgICAgIH0sDQogICAgICAgIFBlc3F1aXNhcigpew0KICAgICAgICAgICAgaWYodGhpcy5wZXNxdWlzYSA9PSAiIikNCiAgICAgICAgICAgICAgICB0aGlzLml0ZW5zID0gdGhpcy5pdGVuc1JldG9ybmFkb3M7DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgdGhpcy5pdGVucyA9IHRoaXMuaXRlbnNSZXRvcm5hZG9zLmZpbHRlcih4ID0+IHgudGl0dWxvLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXModGhpcy5wZXNxdWlzYS50b1VwcGVyQ2FzZSgpKSB8fCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguaWQudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKHRoaXMucGVzcXVpc2EudG9VcHBlckNhc2UoKSkgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguZGVzY3JpY2FvLnRvVXBwZXJDYXNlKCkuaW5jbHVkZXModGhpcy5wZXNxdWlzYS50b1VwcGVyQ2FzZSgpKSk7DQogICAgICAgIH0sDQogICAgICAgIFNhbHZhcigpIHsNCiAgICAgICAgICAgIGlmKHRoaXMudGl0dWxvID09ICIiIHx8IHRoaXMuZGVzY3JpY2FvID09ICIiKSByZXR1cm4NCiAgICAgICAgICAgIGFwaS5wb3N0KCcvUGVyZ3VudGEnLCANCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aXR1bG86IHRoaXMudGl0dWxvLA0KICAgICAgICAgICAgICAgIGRlc2NyaWNhbzogdGhpcy5kZXNjcmljYW8NCiAgICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuaXRlbnNSZXRvcm5hZG9zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YSwNCiAgICAgICAgICAgICAgICAgICAgdGl0dWxvOiB0aGlzLnRpdHVsbywNCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpY2FvOiB0aGlzLmRlc2NyaWNhbw0KICAgICAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgICAgICB0aGlzLnRpdHVsbyA9ICIiOw0KICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpY2FvID0gIiI7DQogICAgICAgICAgICAgICAgdGhpcy5wZXNxdWlzYSA9ICIiOw0KICAgICAgICAgICAgICAgIHRoaXMuaXRlbnMgPSB0aGlzLml0ZW5zUmV0b3JuYWRvczsNCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBCdXNjYXIoKXsNCiAgICAgICAgICAgIGFwaS5nZXQoJy9QZXJndW50YS8/cGFnaW5hPScrIHRoaXMucGFnaW5hY2FvKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4geyANCiAgICAgICAgICAgICAgICB0aGlzLml0ZW5zID0gW107DQogICAgICAgICAgICAgICAgdGhpcy5jYXJyZWdhciA9IGZhbHNlDQogICAgICAgICAgICAgICAgdGhpcy5wYWdpbmFjYW8gKysNCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbnNSZXRvcm5hZG9zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsDQogICAgICAgICAgICAgICAgICAgICAgICB0aXR1bG86IGl0ZW0udGl0dWxvLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpY2FvOiBpdGVtLmRlc2NyaWNhbw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgdGhpcy5pdGVucyA9IHRoaXMuaXRlbnNSZXRvcm5hZG9zOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIGJvdHRvbShib3R0b20pIHsNCiAgICAgICAgICAgIGlmIChib3R0b20pIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNhcnJlZ2FyID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLkJ1c2NhcigpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKXsNCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5ib3R0b21WaXNpYmxlKCkNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuQnVzY2FyKCk7DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Principal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Principal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <v-container \r\n        fluid\r\n        >\r\n        <v-row justify=\"center\" class=\"my-15\" >\r\n            <h1>Fac - Empresarial</h1>\r\n        </v-row >\r\n        <v-row justify=\"center\">\r\n            <v-col cols=\"3\">\r\n                \r\n                <v-text-field\r\n                    label=\"Pesquisar\"\r\n                    v-model=\"pesquisa\"\r\n                    @keyup=\"Pesquisar\"\r\n                ></v-text-field>\r\n            </v-col>\r\n        </v-row>\r\n        <v-row class=\"ma-15\">\r\n            <v-expansion-panels popout>\r\n            <v-expansion-panel\r\n                v-for=\"(item,i) in itens\"\r\n                :key=\"i\"\r\n            >\r\n                <v-expansion-panel-header>\r\n                    <div>\r\n                        <v-icon>mdi-cloud-question</v-icon>\r\n                        <span class=\"ml-3\">{{item.id}} - {{item.titulo}}</span>\r\n                    </div>\r\n                    \r\n                </v-expansion-panel-header>\r\n                <v-expansion-panel-content>\r\n                    <v-row class=\"ma-3\">\r\n                        {{item.descricao}}\r\n                    </v-row>\r\n                    <v-row class=\"ma-2\">\r\n                        <v-spacer></v-spacer>\r\n                        <button\r\n                            @click=\"ExibirExcluir(item, i)\"\r\n                        >\r\n                            <v-icon>mdi-delete</v-icon>\r\n                        </button>\r\n                    </v-row>\r\n                </v-expansion-panel-content>\r\n            </v-expansion-panel>\r\n            </v-expansion-panels>\r\n            <v-row \r\n                justify=\"center\"\r\n                class=\"mt-8\" \r\n                v-if=\"carregar\">\r\n                <v-progress-circular\r\n                    :size=\"50\"\r\n                    color=\"primary\"\r\n                    indeterminate\r\n                ></v-progress-circular>\r\n            </v-row>\r\n            <v-btn\r\n                color=\"blue\"\r\n                fab\r\n                large\r\n                dark\r\n                bottom\r\n                right\r\n                flex\r\n                absolute\r\n                class=\"mb-15 mr-5\"\r\n                @click=\"dialog = !dialog\"\r\n                >\r\n                <v-icon>mdi-plus</v-icon>\r\n            </v-btn>\r\n\r\n            <v-dialog\r\n                v-model=\"dialog\"\r\n                max-width=\"1000px\"\r\n            >\r\n                <v-card class=\"pa-5\">\r\n                    <v-card-title>\r\n                        Pergunta\r\n                    </v-card-title>\r\n                    <v-card-text>\r\n                        <v-text-field\r\n                            v-model=\"titulo\"\r\n                            label=\"Titulo\"\r\n                            :rules=\"tituloRules\"\r\n                            required\r\n                         ></v-text-field>\r\n                        <v-textarea\r\n                            counter\r\n                            v-model=\"descricao\"\r\n                            label=\"Descricao\"\r\n                            :rules=\"descricaoRules\"\r\n                            required\r\n                        ></v-textarea>\r\n                    </v-card-text>\r\n        \r\n                    <v-card-actions>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn\r\n                        text\r\n                        color=\"success\"\r\n                        @click=\"Salvar()\"\r\n                        >\r\n                        Salvar\r\n                        </v-btn>\r\n                    </v-card-actions>\r\n                    </v-card>\r\n            </v-dialog>\r\n            <v-dialog\r\n            v-model=\"excluir\"\r\n            max-width=\"290\"\r\n            >\r\n            <v-card>\r\n                <v-card-title class=\"text-h5\">\r\n                    Excluir               \r\n                </v-card-title>\r\n                <v-card-text>\r\n                    Deseja realmente excluir?\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn\r\n                    color=\"red\"\r\n                    text\r\n                    @click=\"excluir = false\"\r\n                >\r\n                    Cancelar\r\n                </v-btn>\r\n\r\n                <v-btn\r\n                    color=\"success\"\r\n                    text\r\n                    @click=\"Deletar()\"\r\n                >\r\n                    Excluir\r\n                </v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n            </v-dialog>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n<script>\r\n\r\nimport api from '@/services/api.js'\r\n\r\nexport default {\r\n    name: 'Principal',\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            excluir: false,\r\n            titulo: '',\r\n            descricao: '',\r\n            itensRetornados: [],\r\n            itens: [],\r\n            pesquisa: '',\r\n            carregar: false,\r\n            bottom: false,\r\n            paginacao: 1,\r\n            item: {},\r\n            index: 0,\r\n            tituloRules: [v => !!v || 'Título é Obrigatório!'],\r\n            descricaoRules: [v => !!v || 'Descrição é Obrigatório!']\r\n        }\r\n    },\r\n    methods: {\r\n        ExibirExcluir(item, i){\r\n            this.excluir = !this.excluir;\r\n            this.item = item;\r\n            this.index = i;\r\n        },\r\n        Deletar(){\r\n            api.delete('/Pergunta', {\r\n                data: {\r\n                    id: this.item.id,\r\n                    titulo: this.item.titulo,\r\n                    descricao: this.item.descricao\r\n                }\r\n            }\r\n            ).then(response => {\r\n                if (response.data == true) {\r\n                    this.excluir = !this.excluir;\r\n                    this.Buscar()\r\n                    this.itens.splice(this.index, 1)\r\n                }\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            })\r\n        },\r\n        bottomVisible() {\r\n            const scrollY = window.scrollY\r\n            const visible = document.documentElement.clientHeight\r\n            const pageHeight = document.documentElement.scrollHeight\r\n            const bottomOfPage = visible + scrollY >= pageHeight\r\n            return bottomOfPage || pageHeight < visible\r\n        },\r\n        Pesquisar(){\r\n            if(this.pesquisa == \"\")\r\n                this.itens = this.itensRetornados;\r\n            else\r\n                this.itens = this.itensRetornados.filter(x => x.titulo.toUpperCase().includes(this.pesquisa.toUpperCase()) || \r\n                                                         x.id.toString().toUpperCase().includes(this.pesquisa.toUpperCase()) ||\r\n                                                         x.descricao.toUpperCase().includes(this.pesquisa.toUpperCase()));\r\n        },\r\n        Salvar() {\r\n            if(this.titulo == \"\" || this.descricao == \"\") return\r\n            api.post('/Pergunta', \r\n            {\r\n                titulo: this.titulo,\r\n                descricao: this.descricao\r\n            }).then(response => {\r\n                this.itensRetornados.push({\r\n                    id: response.data,\r\n                    titulo: this.titulo,\r\n                    descricao: this.descricao\r\n                })\r\n\r\n                this.titulo = \"\";\r\n                this.descricao = \"\";\r\n                this.pesquisa = \"\";\r\n                this.itens = this.itensRetornados;\r\n                this.dialog = false;\r\n\r\n                console.log(response.data);\r\n            }).catch(function (error) {\r\n                console.log(error);\r\n            })\r\n        },\r\n        Buscar(){\r\n            api.get('/Pergunta/?pagina='+ this.paginacao)\r\n            .then(response => { \r\n                this.itens = [];\r\n                this.carregar = false\r\n                this.paginacao ++\r\n                response.data.forEach(item => {\r\n                    this.itensRetornados.push({\r\n                        id: item.id,\r\n                        titulo: item.titulo,\r\n                        descricao: item.descricao\r\n                    })\r\n                });\r\n\r\n                this.itens = this.itensRetornados;\r\n            });\r\n        }\r\n    },\r\n    watch: {\r\n        bottom(bottom) {\r\n            if (bottom) {\r\n                this.carregar = true;\r\n                this.Buscar()\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        window.addEventListener('scroll', () => {\r\n            this.bottom = this.bottomVisible()\r\n        });\r\n        this.Buscar();\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]}]}